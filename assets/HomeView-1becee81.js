import{_ as Z,a as ee,b as le}from"./icon_edit-acee39d0.js";import{o as te,n as re,g as ce,a as de,u as c,b as ne,c as C,r as y,w as X,d as q,e as P,f as x,h as ue,i as pe,T as fe,j as b,k as d,l as U,m as T,_ as se,p as oe,q as k,t as R,s as H,v as ve,x as G,y as he,z as me,F as ye,A as ge}from"./index-77178db4.js";import{_ as _e}from"./TheInputForm.vue_vue_type_style_index_0_lang-cbdc45ef.js";const Ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAALdJREFUSEvVldENgzAMRB+blE3KJC2ToE5SNoFR2KTopLhCoCSIJNDed5zz2T67ojCqwv8TIvg48lgSwXenE9yBN3A7WLoJaIHR4tcKBkAkKRBJ7SPYW3dfApv4tYLTCFJKpNhv4j4FxQlis//7PbhUgUz4AJ7OUC9Asy9kGVM5XZ8beufebASWpREsnfsfCpY9UHnUA0MWBSETXk+QY13rFjS+da1b0CXchOjBSV1ym/ijK2F3IjPl+jMZTcB64AAAAABJRU5ErkJggg==",xe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAW1JREFUSEvFlYFNAzEQBDedQCWBSoBKEiqBToBKoBOiibyvfdvvGFCEpde/3+fd27vzeacrj92V8TVDcCdpL4k3z5ek9/L+KN+bfo4IbiS9FNCRUAjvC2Fjt0VwkHQs1gC8SrK3EPvBjm/bPNcMPYIEh6TZFCCAP4QzjX1NwIbPAoBsYl0P1p0Hk3sf/59yX03wVmI+8vw7GDP+Vs6/W9skwWNJ6sqgoyAJWEYlarMoFvVJYA+QSFK3Rk2AnfcYY4lAElCSqPgNgVVwTgiz56uDRvKQSfwI008UOKyZ7HMeUsEMgVX2yI3lEJ7nSeAK2irPETg5I7QuFM9XBE2Cws0ReCbZBN0kO0F1mV4CXxJaEgzOUigZoqxjS7zU8BLcEch/TbvOKqAN+Dwg3S2bkNStwupZW+Ww1+zyREMwanYADptjj6DukHgLib12q0YRzjBndPvXv104rtC8XHo5+NOVOegW80szl/48WsfyBLfTcBmRPd80AAAAAElFTkSuQmCC";function ie(e){return ce()?(de(e),!0):!1}function ae(e){return typeof e=="function"?e():c(e)}const Ee=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const be=Object.prototype.toString,we=e=>be.call(e)==="[object Object]",Y=()=>{};function Se(e){return e||ne()}function Ce(e,o=!0,a){const i=Se(a);i?te(e,i):o?e():re(e)}function B(e){var o;const a=ae(e);return(o=a==null?void 0:a.$el)!=null?o:a}const W=Ee?window:void 0;function F(...e){let o,a,i,f;if(typeof e[0]=="string"||Array.isArray(e[0])?([a,i,f]=e,o=W):[o,a,i,f]=e,!o)return Y;Array.isArray(a)||(a=[a]),Array.isArray(i)||(i=[i]);const l=[],v=()=>{l.forEach(t=>t()),l.length=0},p=(t,n,u,m)=>(t.addEventListener(n,u,m),()=>t.removeEventListener(n,u,m)),g=X(()=>[B(o),ae(f)],([t,n])=>{if(v(),!t)return;const u=we(n)?{...n}:n;l.push(...a.flatMap(m=>i.map(_=>p(t,m,_,u))))},{immediate:!0,flush:"post"}),h=()=>{g(),v()};return ie(h),h}function ke(){const e=y(!1);return ne()&&te(()=>{e.value=!0}),e}function Be(e){const o=ke();return C(()=>(o.value,!!e()))}function ze(e,o,a={}){const{window:i=W,...f}=a;let l;const v=Be(()=>i&&"ResizeObserver"in i),p=()=>{l&&(l.disconnect(),l=void 0)},g=C(()=>Array.isArray(e)?e.map(n=>B(n)):[B(e)]),h=X(g,n=>{if(p(),v.value&&i){l=new ResizeObserver(o);for(const u of n)u&&l.observe(u,f)}},{immediate:!0,flush:"post",deep:!0}),t=()=>{p(),h()};return ie(t),{isSupported:v,stop:t}}function D(e,o={width:0,height:0},a={}){const{window:i=W,box:f="content-box"}=a,l=C(()=>{var n,u;return(u=(n=B(e))==null?void 0:n.namespaceURI)==null?void 0:u.includes("svg")}),v=y(o.width),p=y(o.height),{stop:g}=ze(e,([n])=>{const u=f==="border-box"?n.borderBoxSize:f==="content-box"?n.contentBoxSize:n.devicePixelContentBoxSize;if(i&&l.value){const m=B(e);if(m){const _=i.getComputedStyle(m);v.value=Number.parseFloat(_.width),p.value=Number.parseFloat(_.height)}}else if(u){const m=Array.isArray(u)?u:[u];v.value=m.reduce((_,{inlineSize:A})=>_+A,0),p.value=m.reduce((_,{blockSize:A})=>_+A,0)}else v.value=n.contentRect.width,p.value=n.contentRect.height},a);Ce(()=>{const n=B(e);n&&(v.value="offsetWidth"in n?n.offsetWidth:o.width,p.value="offsetHeight"in n?n.offsetHeight:o.height)});const h=X(()=>B(e),n=>{v.value=n?o.width:0,p.value=n?o.height:0});function t(){g(),h()}return{width:v,height:p,stop:t}}function Oe(e,o={}){const{threshold:a=50,onSwipe:i,onSwipeEnd:f,onSwipeStart:l,passive:v=!0,window:p=W}=o,g=q({x:0,y:0}),h=q({x:0,y:0}),t=C(()=>g.x-h.x),n=C(()=>g.y-h.y),{max:u,abs:m}=Math,_=C(()=>u(m(t.value),m(n.value))>=a),A=y(!1),N=C(()=>_.value?m(t.value)>m(n.value)?t.value>0?"left":"right":n.value>0?"up":"down":"none"),z=s=>[s.touches[0].clientX,s.touches[0].clientY],$=(s,r)=>{g.x=s,g.y=r},w=(s,r)=>{h.x=s,h.y=r};let E;const I=Te(p==null?void 0:p.document);v?E=I?{passive:!0}:{capture:!1}:E=I?{passive:!1,capture:!0}:{capture:!0};const K=s=>{A.value&&(f==null||f(s,N.value)),A.value=!1},O=[F(e,"touchstart",s=>{if(s.touches.length!==1)return;E.capture&&!E.passive&&s.preventDefault();const[r,S]=z(s);$(r,S),w(r,S),l==null||l(s)},E),F(e,"touchmove",s=>{if(s.touches.length!==1)return;const[r,S]=z(s);w(r,S),!A.value&&_.value&&(A.value=!0),A.value&&(i==null||i(s))},E),F(e,["touchend","touchcancel"],K,E)];return{isPassiveEventSupported:I,isSwiping:A,direction:N,coordsStart:g,coordsEnd:h,lengthX:t,lengthY:n,stop:()=>O.forEach(s=>s())}}function Te(e){if(!e)return!1;let o=!1;const a={get passive(){return o=!0,!1}};return e.addEventListener("x",Y,a),e.removeEventListener("x",Y),o}const je={key:0,class:"modal-mask"},Ne={class:"modal-wrapper"},$e={class:"modal-container"},Ie={class:"modal-body"},Me=P({__name:"TheInputModal",props:{isOpen:{type:Boolean,required:!0},entry:{type:Object}},emits:["close"],setup(e,{emit:o}){const a=o;function i(){a("close")}return(f,l)=>(x(),ue(fe,{name:"modal"},{default:pe(()=>[e.isOpen?(x(),b("div",je,[d("div",Ne,[d("div",$e,[d("div",Ie,[U(_e,{onCloseaction:l[0]||(l[0]=v=>i()),entry:e.entry},null,8,["entry"])])])])])):T("",!0)]),_:1}))}});const Re=se(Me,[["__scopeId","data-v-5c52f3aa"]]),j=e=>(he("data-v-9730332f"),e=e(),me(),e),Ve={class:"info-box-1d"},We={key:0,class:"entry-text"},Fe=j(()=>d("img",{alt:"Deadline",src:Ae},null,-1)),De={key:1,class:"entry-text"},Ye=j(()=>d("img",{alt:"Expenditure",src:xe},null,-1)),Xe={key:0,style:"color: #000000; padding: 0 0 10px 0; position: relative;",class:"text-base"},Pe={key:1},Ue={class:"info-box-1d"},Ke=j(()=>d("img",{alt:"Delete",style:{},src:Z},null,-1)),Le=[Ke],Je=j(()=>d("img",{alt:"Edit",src:le},null,-1)),Qe=[Je],qe=j(()=>d("img",{alt:"Done",src:ee},null,-1)),He=[qe],V=40,Ge=P({__name:"CompactEntry",props:{entry:{type:Object,required:!0}},emits:["collapse-others"],setup(e,{emit:o}){const a=oe(),i=e,f=y(null),l=D(f),v=y(null),p=y(null),g={width:D(p).width,height:D(p).height};let h=y(!1),t=i.entry;function n(){t.metadata.isExpanded||N(),t.metadata.isExpanded=!t.metadata.isExpanded}function u(s){console.log("Clicked Delete"),G(s,!0)}function m(s){console.log("editClicked"),h.value=!h.value}function _(s){console.log("Clicked Done"),G(s,!1)}function A(){h.value=!1}function N(){for(const s of a.entries)console.log(s.metadata.isExpanded),s.metadata.isExpanded&&(s.metadata.isExpanded=!1)}const z=y(null),$=C(()=>{var s;return(s=z.value)==null?void 0:s.offsetWidth}),w=y("0"),E=y(1);y(0),y(0),y(0);const{direction:I,isSwiping:K,lengthX:O,lengthY:L}=Oe(f,{passive:!0,onSwipe(s){if($.value&&Math.abs(L.value)<50){const r=Math.abs(O.value);r/$.value*100>V?w.value=`${-Math.sign(O.value)*V}%`:w.value=`${-Math.sign(O.value)*r}px`}else w.value="0",E.value=1},onSwipeEnd(s,r){w.value="0"}});return(s,r)=>{var S,J,Q;return x(),b("span",{ref_key:"container",ref:z,class:"horizontal-box stretch-horizontally",style:k(`position: relative; min-height: 16vh; overflow: hidden; background-color: ${c(t).color}; `)},[d("article",{ref_key:"entryBox",ref:f,class:ve(["entry-box",c(t).metadata.isExpanded?"detail-height":"compact-height"]),style:k(`position: relative; width: 100%; left: ${w.value}; margin: 0; transition: all 200ms ease-out;`),onClick:r[3]||(r[3]=M=>n())},[d("aside",{class:"delete-box restrict-size",style:k(`position: absolute; display: flex; width: ${V}%; height: 100%; left: 0; transform: translateX(-100%)`)},[d("img",{alt:"",class:"icon no-padding center",src:Z,style:k(`max-width: ${c(l).height.value/2}px`)},null,4)],4),d("aside",{class:"tick-box restrict-size",style:k(`position: absolute; display: flex; width: ${V}%; height: 100%; right: 0; transform: translateX(100%)`)},[d("img",{alt:"",class:"icon no-padding center",src:ee,style:k(`max-width: ${c(l).height.value/2}px`)},null,4)],4),d("div",{ref_key:"content",ref:p,style:k(`width: ${g.width}px; padding: 10px;`)},[d("h1",{ref_key:"title",ref:v,class:"text-2xl font-medium"},R((S=c(t))!=null&&S.title?(J=c(t))==null?void 0:J.title:""),513),d("section",Ve,[c(t).deadline!=null?(x(),b("span",We,[Fe,H(" "+R((Q=c(t))==null?void 0:Q.deadline.toLocaleDateString()),1)])):T("",!0),c(t).expenditure!=null?(x(),b("span",De,[Ye,H(" "+R(c(t).expenditure.time+" "+c(t).expenditure.unit),1)])):T("",!0)]),c(t)&&c(t).description!=null?(x(),b("p",Xe,R(c(t).description),1)):T("",!0),c(t).metadata.isExpanded?(x(),b("span",Pe,[d("nav",Ue,[d("button",{onClick:r[0]||(r[0]=M=>u(c(t))),class:"flex justify-center"},Le),d("button",{onClick:r[1]||(r[1]=M=>m(c(t))),class:"flex justify-center"},Qe),d("button",{onClick:r[2]||(r[2]=M=>_(c(t))),class:"flex justify-center"},He)])])):T("",!0)],4)],6),U(Re,{"is-open":c(h),onClose:r[4]||(r[4]=M=>A()),entry:c(t)},null,8,["is-open","entry"])],4)}}});const Ze=se(Ge,[["__scopeId","data-v-9730332f"]]),et={style:"position: relative;"},ot=P({__name:"HomeView",setup(e){const o=oe();function a(){for(const i of o.entries)console.log(i.metadata.isExpanded),i.metadata.isExpanded&&(i.metadata.isExpanded=!1)}return(i,f)=>(x(),b("div",et,[(x(!0),b(ye,null,ge(c(o).entries.filter(l=>l.metadata.isVisible==!0).slice(0,5),l=>(x(),b("div",{key:l.title},[U(Ze,{entry:l,style:"margin-bottom: 5px",onCollapseOthers:a},null,8,["entry"])]))),128))]))}});export{ot as default};
