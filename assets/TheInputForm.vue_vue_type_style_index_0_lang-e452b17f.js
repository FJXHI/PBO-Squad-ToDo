import{h as D,u as g,r as u,o as T,i as U,l as V,m as e,C as d,D as c,E as S,G as w}from"./index-3237e6d9.js";const k={class:"edit"},C=["onSubmit"],I=e("button",{class:"btn_save",type:"submit"},"Save",-1),M=e("label",{for:"id_title"},"Title:",-1),B=e("label",{for:"id_date"},"Date:",-1),O=e("label",{for:"id_duration"},"Estimated duration:",-1),j={style:{display:"flex"}},F=e("option",{value:"min"},"minutes",-1),q=e("option",{value:"h"},"hours",-1),z=e("option",{value:"days"},"days",-1),G=e("option",{value:"weeks"},"weeks",-1),N=[F,q,z,G],P=e("label",{for:"id_tags"},"Tags:",-1),A=e("label",{for:"id_descript"},"Description:",-1),J=D({__name:"TheInputForm",props:{entry:{type:Object}},emits:["closeaction"],setup(f,{emit:E}){const m=g(),i=u(""),l=u(""),s=u(""),r=u("min"),p=u(""),v=u(""),_=u("#000000"),y=E,o=f;T(()=>{var a,t,n;o.entry&&(i.value=o.entry.todoEntry.title||"",l.value=((a=o.entry.todoEntry.deadline)==null?void 0:a.toISOString().split("T")[0])||"",s.value=((t=o.entry.todoEntry.expenditure)==null?void 0:t.time.toString())||"",r.value=((n=o.entry.todoEntry.expenditure)==null?void 0:n.unit)||"min",p.value=o.entry.todoEntry.description||"")});const h=()=>{if(o.entry&&(console.log("Update Entry -> rm old & create new Entry"+o.entry),m.removeEntry(o.entry)),i.value.trim()!==""){let a;l.value.trim()!==""?a=new Date(l.value):a=void 0;let t;s.value.trim()!==""?t={time:parseInt(s.value),unit:r.value}:t=void 0,m.addEntry({todoEntry:{title:i.value,description:p.value,color:{r:255,g:59,b:48},deadline:a,expenditure:t},isVisible:!0,isExpanded:!1});const n={title:i.value,date:l.value,duration:s.value,unit:r.value,description:p.value,tags:v.value,color:_.value};console.log(n),b(),y("closeaction")}},x=()=>{b(),y("closeaction")},b=()=>{i.value="",l.value="",s.value="",r.value="min",p.value="",v.value=""};return(a,t)=>(U(),V("div",k,[e("form",{class:"input-field",onSubmit:w(h,["prevent"])},[e("span",{class:"edit_btn"},[e("button",{class:"btn_cancel",type:"button",onClick:x},"Cancel"),I]),M,d(e("input",{class:"user-input",type:"text",id:"id_title","onUpdate:modelValue":t[0]||(t[0]=n=>i.value=n),placeholder:"Title",required:""},null,512),[[c,i.value]]),B,d(e("input",{class:"user-input",type:"date",id:"id_date","onUpdate:modelValue":t[1]||(t[1]=n=>l.value=n),placeholder:"Date"},null,512),[[c,l.value]]),O,e("div",j,[d(e("input",{class:"user-input duration",type:"number",id:"id_duration","onUpdate:modelValue":t[2]||(t[2]=n=>s.value=n),placeholder:"Estimated duration",min:"0"},null,512),[[c,s.value]]),d(e("select",{class:"user-input duration_unit",id:"id_duration_unit","onUpdate:modelValue":t[3]||(t[3]=n=>r.value=n)},N,512),[[S,r.value]])]),P,e("div",null,[d(e("input",{class:"user-input duration",type:"text",id:"id_tags","onUpdate:modelValue":t[4]||(t[4]=n=>v.value=n),placeholder:"Tags"},null,512),[[c,v.value]]),d(e("input",{class:"user-input short",type:"color",id:"colorPicker","onUpdate:modelValue":t[5]||(t[5]=n=>_.value=n)},null,512),[[c,_.value]])]),A,d(e("textarea",{class:"user-input input_descript",id:"id_descript","onUpdate:modelValue":t[6]||(t[6]=n=>p.value=n),placeholder:"Description",rows:"4",style:{resize:"none"}},null,512),[[c,p.value]])],40,C)]))}});export{J as _};
