import{a as x,u as D,r,q as g,o as T,b as w,e,s as p,v as c,x as S,y as U}from"./index-fdad02f9.js";const V={class:"edit"},k=["onSubmit"],I=e("button",{class:"btn_save",type:"submit"},"Save",-1),M=e("label",{for:"id_title"},"Title:",-1),B=e("label",{for:"id_date"},"Date:",-1),C=e("label",{for:"id_duration"},"Estimated duration:",-1),O={style:{display:"flex"}},j=e("option",{value:"min"},"minutes",-1),q=e("option",{value:"h"},"hours",-1),F=e("option",{value:"days"},"days",-1),z=e("option",{value:"weeks"},"weeks",-1),N=[j,q,F,z],A=e("label",{for:"id_tags"},"Tags:",-1),G=e("label",{for:"id_descript"},"Description:",-1),J=x({__name:"TheInputForm",props:{entry:{type:Object}},emits:["closeaction"],setup(b,{emit:f}){const _=D(),i=r(""),s=r(""),a=r(""),u=r("min"),d=r(""),v=r(""),m=f,o=b;g(()=>{var l,t,n;o.entry&&(i.value=o.entry.todoEntry.title||"",s.value=((l=o.entry.todoEntry.deadline)==null?void 0:l.toISOString().split("T")[0])||"",a.value=((t=o.entry.todoEntry.expenditure)==null?void 0:t.time.toString())||"",u.value=((n=o.entry.todoEntry.expenditure)==null?void 0:n.unit)||"min",d.value=o.entry.todoEntry.description||"")});const E=()=>{if(o.entry&&(console.log("Update Entry -> rm old & create new Entry"+o.entry),_.removeEntry(o.entry)),i.value.trim()!==""){let l;s.value.trim()!==""?l=new Date(s.value):l=new Date(""),_.addEntry({todoEntry:{title:i.value,description:d.value,color:{r:255,g:59,b:48},deadline:l,expenditure:{time:parseInt(a.value),unit:u.value}},isVisible:!0,isExpanded:!1});const t={title:i.value,date:s.value,duration:a.value,unit:u.value,description:d.value,tags:v.value};console.log(t),y(),m("closeaction")}},h=()=>{y(),m("closeaction")},y=()=>{i.value="",s.value="",a.value="",u.value="min",d.value="",v.value=""};return(l,t)=>(T(),w("div",V,[e("form",{class:"input-field",onSubmit:U(E,["prevent"])},[e("span",{class:"edit_btn"},[e("button",{class:"btn_cancel",type:"button",onClick:h},"Cancel"),I]),M,p(e("input",{class:"user-input",type:"text",id:"id_title","onUpdate:modelValue":t[0]||(t[0]=n=>i.value=n),placeholder:"Title",required:""},null,512),[[c,i.value]]),B,p(e("input",{class:"user-input",type:"date",id:"id_date","onUpdate:modelValue":t[1]||(t[1]=n=>s.value=n),placeholder:"Date"},null,512),[[c,s.value]]),C,e("div",O,[p(e("input",{class:"user-input duration",type:"number",id:"id_duration","onUpdate:modelValue":t[2]||(t[2]=n=>a.value=n),placeholder:"Estimated duration",min:"0"},null,512),[[c,a.value]]),p(e("select",{class:"user-input duration_unit",id:"id_duration_unit","onUpdate:modelValue":t[3]||(t[3]=n=>u.value=n)},N,512),[[S,u.value]])]),A,p(e("input",{class:"user-input",type:"text",id:"id_tags","onUpdate:modelValue":t[4]||(t[4]=n=>v.value=n),placeholder:"Tags"},null,512),[[c,v.value]]),G,p(e("textarea",{class:"user-input input_descript",id:"id_descript","onUpdate:modelValue":t[5]||(t[5]=n=>d.value=n),placeholder:"Description",rows:"4",style:{resize:"none"}},null,512),[[c,d.value]])],40,k)]))}});export{J as _};
