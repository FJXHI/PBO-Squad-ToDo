import{e as T,r as a,f as y,j as f,C as d,D as c,k as e,F as E,A as k,p as w,o as S,E as C,l as I,G as F,H as M}from"./index-9655a0de.js";const j={id:"tag-list"},B=["value"],O=T({__name:"TagDropdown",setup(b){const v=a(""),_=["Uni","Work","Test"];return(s,o)=>(y(),f(E,null,[d(e("input",{list:"tag-list",id:"id_tags",class:"user-input duration",placeholder:"Tags","onUpdate:modelValue":o[0]||(o[0]=i=>v.value=i)},null,512),[[c,v.value]]),e("datalist",j,[(y(),f(E,null,k(_,i=>e("option",{key:i,value:i},null,8,B)),64))])],64))}}),$={class:"edit"},N=["onSubmit"],q=e("button",{class:"btn_save",type:"submit"},"Save",-1),z=e("label",{for:"id_title"},"Title:",-1),A=e("label",{for:"id_date"},"Date:",-1),G=e("label",{for:"id_duration"},"Estimated duration:",-1),H={style:{display:"flex"}},L=e("option",{value:"min"},"minutes",-1),P=e("option",{value:"h"},"hours",-1),W=e("option",{value:"days"},"days",-1),J=e("option",{value:"weeks"},"weeks",-1),K=[L,P,W,J],Q=e("label",{for:"id_tags"},"Tags:",-1),R=e("label",{for:"id_descript"},"Description:",-1),Y=T({__name:"TheInputForm",props:{entry:{type:Object}},emits:["closeaction"],setup(b,{emit:v}){const _=w(),s=a(""),o=a(""),i=a(""),r=a("min"),p=a(""),g=a(""),m=a("#000000"),h=v,l=b;S(()=>{var u,t,n;l.entry&&(s.value=l.entry.title||"",o.value=((u=l.entry.deadline)==null?void 0:u.toISOString().split("T")[0])||"",i.value=((t=l.entry.expenditure)==null?void 0:t.time.toString())||"",r.value=((n=l.entry.expenditure)==null?void 0:n.unit)||"min",p.value=l.entry.description||"")});const x=()=>{if(l.entry&&(console.log("Update Entry -> rm old & create new Entry"+l.entry),_.removeEntry(l.entry)),s.value.trim()!==""){let u;o.value.trim()!==""?u=new Date(o.value):u=void 0;let t;i.value.trim()!==""?t={time:parseInt(i.value),unit:r.value}:t=void 0;const n={title:s.value,description:p.value,color:"#ff3b30",deadline:u,expenditure:t,metadata:{isVisible:!0,isExpanded:!1}};M(n);const V={title:s.value,date:o.value,duration:i.value,unit:r.value,description:p.value,tags:g.value,color:m.value};console.log(V),D(),h("closeaction")}},U=()=>{D(),h("closeaction")},D=()=>{s.value="",o.value="",i.value="",r.value="min",p.value="",g.value=""};return(u,t)=>(y(),f("div",$,[e("form",{class:"input-field",onSubmit:F(x,["prevent"])},[e("span",{class:"edit_btn"},[e("button",{class:"btn_cancel",type:"button",onClick:U},"Cancel"),q]),z,d(e("input",{class:"user-input",type:"text",id:"id_title","onUpdate:modelValue":t[0]||(t[0]=n=>s.value=n),placeholder:"Title",required:""},null,512),[[c,s.value]]),A,d(e("input",{class:"user-input",type:"date",id:"id_date","onUpdate:modelValue":t[1]||(t[1]=n=>o.value=n),placeholder:"Date"},null,512),[[c,o.value]]),G,e("div",H,[d(e("input",{class:"user-input duration",type:"number",id:"id_duration","onUpdate:modelValue":t[2]||(t[2]=n=>i.value=n),placeholder:"Estimated duration",min:"0"},null,512),[[c,i.value]]),d(e("select",{class:"user-input duration_unit",id:"id_duration_unit","onUpdate:modelValue":t[3]||(t[3]=n=>r.value=n)},K,512),[[C,r.value]])]),Q,e("div",null,[I(O),d(e("input",{class:"user-input short",type:"color",id:"colorPicker","onUpdate:modelValue":t[4]||(t[4]=n=>m.value=n)},null,512),[[c,m.value]])]),R,d(e("textarea",{class:"user-input input_descript",id:"id_descript","onUpdate:modelValue":t[5]||(t[5]=n=>p.value=n),placeholder:"Description",rows:"4",style:{resize:"none"}},null,512),[[c,p.value]])],40,N)]))}});export{Y as _};
