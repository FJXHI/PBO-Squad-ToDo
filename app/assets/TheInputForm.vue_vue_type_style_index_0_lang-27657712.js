import{e as k,r as d,f,j as g,D as r,E as c,k as e,F as T,B as I,q as B,o as C,l as y,i as V,G as E,H as F,I as M,v as U,J as j,K as N}from"./index-5aead629.js";const O={id:"tag-list"},$=["value"],q=k({__name:"TagDropdown",setup(x){const v=d(""),a=["Uni","Work","Test"];return(u,l)=>(f(),g(T,null,[r(e("input",{list:"tag-list",id:"id_tags",class:"user-input duration",placeholder:"Tags","onUpdate:modelValue":l[0]||(l[0]=n=>v.value=n)},null,512),[[c,v.value]]),e("datalist",O,[(f(),g(T,null,I(a,n=>e("option",{key:n,value:n},null,8,$)),64))])],64))}}),A={class:"edit"},L=["onSubmit"],z={class:"edit_btn"},G=e("label",{for:"id_title"},"Title:",-1),H=e("label",{for:"id_date"},"Date:",-1),J=e("label",{for:"id_duration"},"Estimated duration:",-1),K={style:{display:"flex"}},P=e("option",{value:"min"},"minutes",-1),W=e("option",{value:"h"},"hours",-1),Q=e("option",{value:"days"},"days",-1),R=e("option",{value:"weeks"},"weeks",-1),X=[P,W,Q,R],Y=e("label",{for:"id_tags"},"Tags:",-1),Z=e("label",{for:"id_descript"},"Description:",-1),te=k({__name:"TheInputForm",props:{entry:{type:Object}},emits:["closeaction"],setup(x,{emit:v}){B();const a=d(""),u=d(""),l=d(""),n=d("min"),p=d(""),b=d(""),_=d("#000000"),h=v,o=x;C(()=>{var s,i,t;o.entry&&(a.value=o.entry.title||"",u.value=((s=o.entry.deadline)==null?void 0:s.toISOString().split("T")[0])||"",l.value=((i=o.entry.expenditure)==null?void 0:i.time.toString())||"",n.value=((t=o.entry.expenditure)==null?void 0:t.unit)||"min",p.value=o.entry.description||"")});const w=()=>{let s=o.entry?o.entry:{title:"",description:"",color:"",deadline:new Date,expenditure:{time:0,unit:"min"},metadata:{isVisible:!0,isExpanded:!1}};if(a.value.trim()!==""){let t;u.value.trim()!==""?t=new Date(u.value):t=void 0;let m;l.value?m={time:parseInt(l.value),unit:n.value}:m=void 0,s.title=a.value,s.description=p.value,s.color="#ff3b30",s.deadline=t,s.expenditure=m}o.entry?(console.log("Updating existing entry"),j()):(console.log("Adding existing entry"),N(s));const i={title:a.value,date:u.value,duration:l.value,unit:n.value,description:p.value,tags:b.value,color:_.value};console.log(i),D(),h("closeaction")},S=()=>{D(),h("closeaction")},D=()=>{a.value="",u.value="",l.value="",n.value="min",p.value="",b.value=""};return(s,i)=>(f(),g("div",A,[e("form",{class:"input-field",onSubmit:M(w,["prevent"])},[e("span",z,[y(E,{class:"btn_cancel",type:"button",onClick:S},{default:V(()=>[U("Cancel")]),_:1}),y(E,{class:"btn_save",type:"submit"},{default:V(()=>[U("Save")]),_:1})]),G,r(e("input",{class:"user-input",type:"text",id:"id_title","onUpdate:modelValue":i[0]||(i[0]=t=>a.value=t),placeholder:"Title",required:""},null,512),[[c,a.value]]),H,r(e("input",{class:"user-input",type:"date",id:"id_date","onUpdate:modelValue":i[1]||(i[1]=t=>u.value=t),placeholder:"Date"},null,512),[[c,u.value]]),J,e("div",K,[r(e("input",{class:"user-input duration",type:"number",id:"id_duration","onUpdate:modelValue":i[2]||(i[2]=t=>l.value=t),placeholder:"Estimated duration",min:"0"},null,512),[[c,l.value]]),r(e("select",{class:"user-input duration_unit",id:"id_duration_unit","onUpdate:modelValue":i[3]||(i[3]=t=>n.value=t)},X,512),[[F,n.value]])]),Y,e("div",null,[y(q),r(e("input",{class:"user-input short",type:"color",id:"colorPicker","onUpdate:modelValue":i[4]||(i[4]=t=>_.value=t)},null,512),[[c,_.value]])]),Z,r(e("textarea",{class:"user-input input_descript",id:"id_descript","onUpdate:modelValue":i[5]||(i[5]=t=>p.value=t),placeholder:"Description",rows:"4",style:{resize:"none"}},null,512),[[c,p.value]])],40,L)]))}});export{te as _};
