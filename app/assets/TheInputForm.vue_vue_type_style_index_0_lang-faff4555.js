import{e as T,r as d,f as y,j as f,C as r,D as c,k as e,F as D,A as V,p as k,o as S,E as w,l as I,G as C,H as F,I as M}from"./index-e0db37b8.js";const j={id:"tag-list"},B=["value"],O=T({__name:"TagDropdown",setup(g){const v=d(""),s=["Uni","Work","Test"];return(u,l)=>(y(),f(D,null,[r(e("input",{list:"tag-list",id:"id_tags",class:"user-input duration",placeholder:"Tags","onUpdate:modelValue":l[0]||(l[0]=i=>v.value=i)},null,512),[[c,v.value]]),e("datalist",j,[(y(),f(D,null,V(s,i=>e("option",{key:i,value:i},null,8,B)),64))])],64))}}),$={class:"edit"},A=["onSubmit"],L=e("button",{class:"btn_save",type:"submit"},"Save",-1),N=e("label",{for:"id_title"},"Title:",-1),q=e("label",{for:"id_date"},"Date:",-1),z=e("label",{for:"id_duration"},"Estimated duration:",-1),G={style:{display:"flex"}},H=e("option",{value:"min"},"minutes",-1),P=e("option",{value:"h"},"hours",-1),W=e("option",{value:"days"},"days",-1),J=e("option",{value:"weeks"},"weeks",-1),K=[H,P,W,J],Q=e("label",{for:"id_tags"},"Tags:",-1),R=e("label",{for:"id_descript"},"Description:",-1),Y=T({__name:"TheInputForm",props:{entry:{type:Object}},emits:["closeaction"],setup(g,{emit:v}){k();const s=d(""),u=d(""),l=d(""),i=d("min"),p=d(""),b=d(""),_=d("#000000"),h=v,a=g;S(()=>{var o,n,t;a.entry&&(s.value=a.entry.title||"",u.value=((o=a.entry.deadline)==null?void 0:o.toISOString().split("T")[0])||"",l.value=((n=a.entry.expenditure)==null?void 0:n.time.toString())||"",i.value=((t=a.entry.expenditure)==null?void 0:t.unit)||"min",p.value=a.entry.description||"")});const E=()=>{let o=a.entry?a.entry:{title:"",description:"",color:"",deadline:new Date,expenditure:{time:0,unit:"min"},metadata:{isVisible:!0,isExpanded:!1}};if(s.value.trim()!==""){let t;u.value.trim()!==""?t=new Date(u.value):t=void 0;let m;l.value?m={time:parseInt(l.value),unit:i.value}:m=void 0,o.title=s.value,o.description=p.value,o.color="#ff3b30",o.deadline=t,o.expenditure=m}a.entry?(console.log("Updating existing entry"),F()):(console.log("Adding existing entry"),M(o));const n={title:s.value,date:u.value,duration:l.value,unit:i.value,description:p.value,tags:b.value,color:_.value};console.log(n),x(),h("closeaction")},U=()=>{x(),h("closeaction")},x=()=>{s.value="",u.value="",l.value="",i.value="min",p.value="",b.value=""};return(o,n)=>(y(),f("div",$,[e("form",{class:"input-field",onSubmit:C(E,["prevent"])},[e("span",{class:"edit_btn"},[e("button",{class:"btn_cancel",type:"button",onClick:U},"Cancel"),L]),N,r(e("input",{class:"user-input",type:"text",id:"id_title","onUpdate:modelValue":n[0]||(n[0]=t=>s.value=t),placeholder:"Title",required:""},null,512),[[c,s.value]]),q,r(e("input",{class:"user-input",type:"date",id:"id_date","onUpdate:modelValue":n[1]||(n[1]=t=>u.value=t),placeholder:"Date"},null,512),[[c,u.value]]),z,e("div",G,[r(e("input",{class:"user-input duration",type:"number",id:"id_duration","onUpdate:modelValue":n[2]||(n[2]=t=>l.value=t),placeholder:"Estimated duration",min:"0"},null,512),[[c,l.value]]),r(e("select",{class:"user-input duration_unit",id:"id_duration_unit","onUpdate:modelValue":n[3]||(n[3]=t=>i.value=t)},K,512),[[w,i.value]])]),Q,e("div",null,[I(O),r(e("input",{class:"user-input short",type:"color",id:"colorPicker","onUpdate:modelValue":n[4]||(n[4]=t=>_.value=t)},null,512),[[c,_.value]])]),R,r(e("textarea",{class:"user-input input_descript",id:"id_descript","onUpdate:modelValue":n[5]||(n[5]=t=>p.value=t),placeholder:"Description",rows:"4",style:{resize:"none"}},null,512),[[c,p.value]])],40,A)]))}});export{Y as _};
