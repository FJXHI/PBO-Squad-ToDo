import{d as f,a as j,r as N,E as x,I as F,_ as L,c as T,b as O}from"./relativeTime-276fa9f2.js";import{e as b,f as B,r as _,h as s,i as a,j as o,t as y,u as t,m as d,p as c,q as v,x as A,k as G,s as I,B as H,C as J,_ as K,F as P,y as Q}from"./index-d14241b8.js";import"./InputForm.vue_vue_type_style_index_0_lang-591cb7f3.js";const E=r=>(H("data-v-5622811d"),r=r(),J(),r),R={key:0,class:"entry-text"},U={key:1,class:"entry-text"},W={key:2,class:"entry-text"},X={key:0,style:"color: #000000; padding: 0 0 10px 0; position: relative;",class:"text-base"},Y={key:1},Z={class:"info-btn"},ee=E(()=>o("img",{alt:"Delete",style:{},src:L},null,-1)),te=E(()=>o("img",{alt:"Edit",src:T},null,-1)),ne=E(()=>o("img",{alt:"Done",src:O},null,-1)),se=b({__name:"SquareEntry",props:{entry:{type:Object,required:!0}},setup(r){f.extend(j),f.extend(N);const m=B(),k=r,h=_(null),l=_(null),$=_(null);let p=_(!1),e=k.entry;function V(){e.metadata.isExpanded||M(),e.metadata.isExpanded=!e.metadata.isExpanded}function q(i){I(i,!0)}function w(){p.value=!p.value}function D(i){I(i,!1)}function z(){p.value=!1}function M(){for(const i of m.entries)i.metadata.isExpanded&&(i.metadata.isExpanded=!1)}return(i,n)=>{var g,C,S;return s(),a("span",null,[o("article",{ref_key:"entryBox",ref:h,class:A(["entry-box","stretch-horizontally",t(e).metadata.isExpanded?"detail-height":"entry-height"]),style:G("--element-color: "+t(e).color),onClick:n[3]||(n[3]=u=>V())},[o("div",{ref_key:"content",ref:$},[o("h1",{ref_key:"title",ref:l,class:"entry-title"},y((g=t(e))!=null&&g.title?(C=t(e))==null?void 0:C.title:""),513),o("section",null,[t(e).deadline!=null?(s(),a("span",R,y((S=t(e))==null?void 0:S.deadline.toLocaleDateString()),1)):d("",!0),t(e).deadline!=null&&t(e).expenditure!=null?(s(),a("span",U," - ")):d("",!0),t(e).expenditure!=null?(s(),a("span",W,y(t(f).duration({seconds:t(e).expenditure}).humanize()),1)):d("",!0)]),t(e).metadata.isExpanded&&t(e).description!=null?(s(),a("p",X,y(t(e).description),1)):d("",!0),t(e).metadata.isExpanded?(s(),a("span",Y,[o("nav",Z,[c(x,{onClick:n[0]||(n[0]=u=>q(t(e)))},{default:v(()=>[ee]),_:1}),c(x,{onClick:n[1]||(n[1]=u=>w())},{default:v(()=>[te]),_:1}),c(x,{onClick:n[2]||(n[2]=u=>D(t(e)))},{default:v(()=>[ne]),_:1})])])):d("",!0)],512)],6),c(F,{"is-open":t(p),onClose:n[4]||(n[4]=u=>z()),entry:t(e)},null,8,["is-open","entry"])])}}});const ae=K(se,[["__scopeId","data-v-5622811d"]]),oe={class:"more"},de=b({__name:"MoreView",setup(r){const m=B();return(k,h)=>(s(),a("main",oe,[(s(!0),a(P,null,Q(t(m).entries.filter(l=>l.metadata.isVisible==!0).slice(0,30),l=>(s(),a("div",{key:l.title},[c(ae,{entry:l,style:"margin-bottom: 5px"},null,8,["entry"])]))),128))]))}});export{de as default};
