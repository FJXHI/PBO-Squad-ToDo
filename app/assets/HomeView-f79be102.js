import{_ as T,a as j,b as z}from"./icon_done-a6fb218d.js";import{d as R,r as y,u as g,a as f,o as d,c as D,w as K,T as O,b as a,e as n,f as v,g as _,_ as B,h as t,t as u,i as k,n as U,j as Y,p as J,k as M,F as P,l as $}from"./index-fdad02f9.js";import{_ as W}from"./TheInputForm.vue_vue_type_style_index_0_lang-ed1cb4b6.js";const X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAALdJREFUSEvVldENgzAMRB+blE3KJC2ToE5SNoFR2KTopLhCoCSIJNDed5zz2T67ojCqwv8TIvg48lgSwXenE9yBN3A7WLoJaIHR4tcKBkAkKRBJ7SPYW3dfApv4tYLTCFJKpNhv4j4FxQlis//7PbhUgUz4AJ7OUC9Asy9kGVM5XZ8beufebASWpREsnfsfCpY9UHnUA0MWBSETXk+QY13rFjS+da1b0CXchOjBSV1ym/ijK2F3IjPl+jMZTcB64AAAAABJRU5ErkJggg==",Q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAW1JREFUSEvFlYFNAzEQBDedQCWBSoBKEiqBToBKoBOiibyvfdvvGFCEpde/3+fd27vzeacrj92V8TVDcCdpL4k3z5ek9/L+KN+bfo4IbiS9FNCRUAjvC2Fjt0VwkHQs1gC8SrK3EPvBjm/bPNcMPYIEh6TZFCCAP4QzjX1NwIbPAoBsYl0P1p0Hk3sf/59yX03wVmI+8vw7GDP+Vs6/W9skwWNJ6sqgoyAJWEYlarMoFvVJYA+QSFK3Rk2AnfcYY4lAElCSqPgNgVVwTgiz56uDRvKQSfwI008UOKyZ7HMeUsEMgVX2yI3lEJ7nSeAK2irPETg5I7QuFM9XBE2Cws0ReCbZBN0kO0F1mV4CXxJaEgzOUigZoqxjS7zU8BLcEch/TbvOKqAN+Dwg3S2bkNStwupZW+Ww1+zyREMwanYADptjj6DukHgLib12q0YRzjBndPvXv104rtC8XHo5+NOVOegW80szl/48WsfyBLfTcBmRPd80AAAAAElFTkSuQmCC",L=R("deleteStore",()=>{const o=y([]);function i(l,s){o.value.push({entry:l,isDelete:s})}return{deletedEntries:o,addDeletedEntry:i}});function x(o,i){const l=g(),s=L();console.log("removeAndAddEntry",i,o),l.removeEntry(o),s.addDeletedEntry(o,i)}const q={key:0,class:"modal-mask"},H={class:"modal-wrapper"},Z={class:"modal-container"},G={class:"modal-body"},ee=f({__name:"TheInputModal",props:{isOpen:{type:Boolean,required:!0},entry:{type:Object}},emits:["close"],setup(o,{emit:i}){const l=i;function s(){l("close")}return(E,r)=>(d(),D(O,{name:"modal"},{default:K(()=>[o.isOpen?(d(),a("div",q,[n("div",H,[n("div",Z,[n("div",G,[v(W,{onCloseaction:r[0]||(r[0]=e=>s()),entry:o.entry},null,8,["entry"])])])])])):_("",!0)]),_:1}))}});const te=B(ee,[["__scopeId","data-v-5c52f3aa"]]),A=o=>(J("data-v-e1e48f3c"),o=o(),M(),o),oe={class:"Entry-InputForm"},ne={class:"entry-title"},se={class:"info-box-1d"},re={key:0,class:"entry-text"},ie=A(()=>n("img",{src:X},null,-1)),de={key:1,class:"entry-text"},le=A(()=>n("img",{src:Q},null,-1)),ae={key:0,class:"entry-text"},ce={key:1},pe={class:"info-box-1d"},_e=A(()=>n("img",{src:T},null,-1)),Ae=[_e],ue=A(()=>n("img",{src:j},null,-1)),ye=[ue],Ee=A(()=>n("img",{src:z},null,-1)),me=[Ee],ge=f({__name:"CompactEntry",props:{entry:{type:Object,required:!0}},emits:["collapse-others"],setup(o,{emit:i}){g();const l=o,s=i,E=y(null);y(!1);let r=y(!1),e=l.entry,b="rgba("+e.todoEntry.color.r.toString()+","+e.todoEntry.color.g.toString()+","+e.todoEntry.color.b.toString()+","+(e.todoEntry.color.a?e.todoEntry.color.a:255)+")";function I(){e.isExpanded||s("collapse-others"),e.isExpanded=!e.isExpanded}function N(p){console.log("Clicked Delete"),x(p,!0)}function w(p){console.log("editClicked"),r.value=!r.value}function V(p){console.log("Clicked Done"),x(p,!1)}function F(){r.value=!1}return(p,c)=>{var C,h,S;return d(),a("article",{ref_key:"entryBox",ref:E,class:U(["entry-box","stretch-horizontally",t(e).isExpanded?"detail-height":"compact-height"]),style:Y("--element-color: "+t(b)),onClick:I},[n("div",oe,[v(te,{"is-open":t(r),onClose:c[0]||(c[0]=m=>F()),entry:t(e)},null,8,["is-open","entry"])]),n("div",null,[n("h1",ne,u((C=t(e))!=null&&C.todoEntry.title?(h=t(e))==null?void 0:h.todoEntry.title:""),1),n("section",se,[t(e).todoEntry.deadline!=null?(d(),a("span",re,[ie,k(" "+u((S=t(e))==null?void 0:S.todoEntry.deadline.toLocaleDateString()),1)])):_("",!0),t(e).todoEntry.expenditure!=null?(d(),a("span",de,[le,k(" "+u(t(e).todoEntry.expenditure.time+" "+t(e).todoEntry.expenditure.unit),1)])):_("",!0)]),t(e).isExpanded&&t(e).todoEntry.description!=null?(d(),a("p",ae,u(t(e).todoEntry.description),1)):_("",!0),t(e).isExpanded?(d(),a("span",ce,[n("nav",pe,[n("button",{onClick:c[1]||(c[1]=m=>N(t(e)))},Ae),n("button",{onClick:c[2]||(c[2]=m=>w(t(e)))},ye),n("button",{onClick:c[3]||(c[3]=m=>V(t(e)))},me)])])):_("",!0)])],6)}}});const fe=B(ge,[["__scopeId","data-v-e1e48f3c"]]),Se=f({__name:"HomeView",setup(o){const i=g();function l(){for(const s of i.entries)console.log(s.isExpanded),s.isExpanded&&(s.isExpanded=!1)}return(s,E)=>(d(),a("main",null,[(d(!0),a(P,null,$(t(i).entries.filter(r=>r.isVisible==!0).slice(0,5),r=>(d(),a("div",{key:r.todoEntry.title},[v(fe,{entry:r,style:"margin-bottom: 5px",onCollapseOthers:l},null,8,["entry"])]))),128))]))}});export{Se as default};
