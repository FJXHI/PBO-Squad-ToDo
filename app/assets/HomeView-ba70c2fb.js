import{_ as T,a as z,b as R}from"./icon_done-a6fb218d.js";import{d as j,r as y,u as g,a as v,o as d,c as D,w as K,b as a,e,f,g as _,T as U,_ as x,h as o,t as A,i as S,n as Y,j as O,p as $,k as J,F as M,l as P}from"./index-76a07f0b.js";import{I as W}from"./TheInputForm-426db07a.js";const X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAALdJREFUSEvVldENgzAMRB+blE3KJC2ToE5SNoFR2KTopLhCoCSIJNDed5zz2T67ojCqwv8TIvg48lgSwXenE9yBN3A7WLoJaIHR4tcKBkAkKRBJ7SPYW3dfApv4tYLTCFJKpNhv4j4FxQlis//7PbhUgUz4AJ7OUC9Asy9kGVM5XZ8beufebASWpREsnfsfCpY9UHnUA0MWBSETXk+QY13rFjS+da1b0CXchOjBSV1ym/ijK2F3IjPl+jMZTcB64AAAAABJRU5ErkJggg==",Q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAW1JREFUSEvFlYFNAzEQBDedQCWBSoBKEiqBToBKoBOiibyvfdvvGFCEpde/3+fd27vzeacrj92V8TVDcCdpL4k3z5ek9/L+KN+bfo4IbiS9FNCRUAjvC2Fjt0VwkHQs1gC8SrK3EPvBjm/bPNcMPYIEh6TZFCCAP4QzjX1NwIbPAoBsYl0P1p0Hk3sf/59yX03wVmI+8vw7GDP+Vs6/W9skwWNJ6sqgoyAJWEYlarMoFvVJYA+QSFK3Rk2AnfcYY4lAElCSqPgNgVVwTgiz56uDRvKQSfwI008UOKyZ7HMeUsEMgVX2yI3lEJ7nSeAK2irPETg5I7QuFM9XBE2Cws0ReCbZBN0kO0F1mV4CXxJaEgzOUigZoqxjS7zU8BLcEch/TbvOKqAN+Dwg3S2bkNStwupZW+Ww1+zyREMwanYADptjj6DukHgLib12q0YRzjBndPvXv104rtC8XHo5+NOVOegW80szl/48WsfyBLfTcBmRPd80AAAAAElFTkSuQmCC",L=j("deleteStore",()=>{const s=y([]);function i(l,r){s.value.push({entry:l,isDelete:r})}return{deletedEntries:s,addDeletedEntry:i}});function h(s,i){const l=g(),r=L();console.log("removeAndAddEntry",i,s),l.removeEntry(s),r.addDeletedEntry(s,i)}const q={key:0,class:"modal-mask"},H={class:"modal-wrapper"},Z={class:"modal-container"},G={class:"modal-body"},tt={class:"button-wrapper"},et=v({__name:"TheInputModal",props:{isOpen:{type:Boolean,required:!0}},emits:["close"],setup(s,{emit:i}){const l=i;function r(){l("close")}return(E,n)=>(d(),D(U,{name:"modal"},{default:K(()=>[s.isOpen?(d(),a("div",q,[e("div",H,[e("div",Z,[e("div",G,[f(W,{onCloseaction:n[0]||(n[0]=t=>r())})]),e("div",tt,[e("button",{class:"btn btn_cancel",type:"button",onClick:n[1]||(n[1]=t=>r())},"Close"),e("button",{class:"btn btn_save",type:"button",onClick:n[2]||(n[2]=t=>r())},"Apply")])])])])):_("",!0)]),_:1}))}});const ot=x(et,[["__scopeId","data-v-a812592f"]]),u=s=>($("data-v-6a113c9d"),s=s(),J(),s),nt={class:"Entry-InputForm"},st={class:"entry-title"},rt={class:"info-box-1d"},it={key:0,class:"entry-text"},dt=u(()=>e("img",{src:X},null,-1)),lt={key:1,class:"entry-text"},at=u(()=>e("img",{src:Q},null,-1)),ct={key:0,class:"entry-text"},pt={key:1},_t={class:"info-box-1d"},ut=u(()=>e("img",{src:T},null,-1)),At=[ut],yt=u(()=>e("img",{src:z},null,-1)),Et=[yt],mt=u(()=>e("img",{src:R},null,-1)),gt=[mt],vt=v({__name:"CompactEntry",props:{entry:{type:Object,required:!0}},emits:["collapse-others"],setup(s,{emit:i}){g();const l=s,r=i,E=y(null);y(!1);let n=y(!1),t=l.entry,B="rgba("+t.todoEntry.color.r.toString()+","+t.todoEntry.color.g.toString()+","+t.todoEntry.color.b.toString()+","+(t.todoEntry.color.a?t.todoEntry.color.a:255)+")";function I(){t.isExpanded||r("collapse-others"),t.isExpanded=!t.isExpanded}function N(p){console.log("Clicked Delete"),h(p,!0)}function w(p){console.log("editClicked"),n.value=!n.value}function F(p){console.log("Clicked Done"),h(p,!1)}function V(){n.value=!1}return(p,c)=>{var C,b,k;return d(),a("article",{ref_key:"entryBox",ref:E,class:Y(["entry-box","stretch-horizontally",o(t).isExpanded?"detail-height":"compact-height"]),style:O("--element-color: "+o(B)),onClick:I},[e("div",nt,[f(ot,{"is-open":o(n),onClose:c[0]||(c[0]=m=>V())},null,8,["is-open"])]),e("div",null,[e("h1",st,A((C=o(t))!=null&&C.todoEntry.title?(b=o(t))==null?void 0:b.todoEntry.title:""),1),e("section",rt,[o(t).todoEntry.deadline!=null?(d(),a("span",it,[dt,S(" "+A((k=o(t))==null?void 0:k.todoEntry.deadline.toLocaleDateString()),1)])):_("",!0),o(t).todoEntry.expenditure!=null?(d(),a("span",lt,[at,S(" "+A(o(t).todoEntry.expenditure.time+" "+o(t).todoEntry.expenditure.unit),1)])):_("",!0)]),o(t).isExpanded&&o(t).todoEntry.description!=null?(d(),a("p",ct,A(o(t).todoEntry.description),1)):_("",!0),o(t).isExpanded?(d(),a("span",pt,[e("nav",_t,[e("button",{onClick:c[1]||(c[1]=m=>N(o(t)))},At),e("button",{onClick:c[2]||(c[2]=m=>w(o(t)))},Et),e("button",{onClick:c[3]||(c[3]=m=>F(o(t)))},gt)])])):_("",!0)])],6)}}});const ft=x(vt,[["__scopeId","data-v-6a113c9d"]]),St=v({__name:"HomeView",setup(s){const i=g();function l(){for(const r of i.entries)console.log(r.isExpanded),r.isExpanded&&(r.isExpanded=!1)}return(r,E)=>(d(),a("main",null,[(d(!0),a(M,null,P(o(i).entries.filter(n=>n.isVisible==!0).slice(0,5),n=>(d(),a("div",{key:n.todoEntry.title},[f(ft,{entry:n,style:"margin-bottom: 5px",onCollapseOthers:l},null,8,["entry"])]))),128))]))}});export{St as default};
